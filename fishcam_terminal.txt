Tu tapes,Résultat instantané,Description
f,→     fishcam_db=>,Connecté à ta base principale
ff,→     fishcam_db=> (sans mot de passe),Si ~/.pgpass est configuré
t,      Liste toutes les tables,\dt automatique
det,    10 dernières dettes (montant restant + statut),Très utile tous les jours
cli,1   0 derniers clients créés,Vérifie que l’enregistrement marche
ep,     10 dernières épargnes + nom du client,Contrôle rapide
tr,     10 dernières transactions (dettes + épargnes),Historique global
fbak,   Backup complet → ~/fishcam_backup_2025-04-05_2321.sql,Avec date propre
flog,   50 dernières lignes du log PostgreSQL,Quand ça bug
pg,     Tu deviens le superuser postgres,Mode Dieu activé
pgr,    Redémarre PostgreSQL en 2 secondes,Répare 90 % des bugs
where,  Affiche où tu es connecté,Tu sais toujours où tu es



\l          → toutes les bases de données
\du         → tous les utilisateurs + droits
\dt         → toutes les tables
\dt+        → tables + taille sur disque
\dn         → tous les schémas
\conninfo   → où suis-je connecté ?
SELECT current_user, current_database();

-- Voir qui est connecté en ce moment
SELECT pid, usename, application_name, client_addr, state, query
FROM pg_stat_activity WHERE datname = 'fishcam_db';

-- Tuer une connexion qui bloque (remplace 12345)
SELECT pg_terminate_backend(12345);

-- Vider complètement la base (attention danger !)
DELETE FROM transaction_dette; DELETE FROM dette; DELETE FROM transaction_epargne; DELETE FROM epargne; DELETE FROM client; DELETE FROM "user";



voici code 
# Vérifie dans quel shell tu es
echo $SHELL

# Ajoute les alias dans le BON fichier (ça marche pour bash ET zsh)
cat >> ~/.bashrc << 'EOF'

# ============ FISHCAM ALIAS — LA VIE EN 1 LETTRE ============
alias f="psql -h localhost -U fishcam_user -d fishcam_db"
alias ff="psql -h localhost -U fishcam_user -d fishcam_db"  # sans mdp si ~/.pgpass existe
alias t="f -c '\dt'"
alias det="f -c 'SELECT id, client_id, remaining_amount, statut FROM dette ORDER BY updated_at DESC LIMIT 10;'"
alias cli="f -c 'SELECT id, first_name, last_name, phone FROM client ORDER BY created_at DESC LIMIT 10;'"
alias fbak="pg_dump fishcam_db > ~/fishcam_backup_$(date +%Y-%m-%d_%H%M).sql && echo 'Backup → ~/fishcam_backup_$(date +%Y-%m-%d_%H%M).sql'"
EOF

# Si tu es en zsh, on fait aussi la même chose
[ -f ~/.zshrc ] && cat ~/.bashrc >> ~/.zshrc

# Recharge tout
source ~/.bashrc 2>/dev/null || source ~/.zshrc
echo "Alias FISHCAM installés pour TOUJOURS ! Tape 'f' pour tester"

